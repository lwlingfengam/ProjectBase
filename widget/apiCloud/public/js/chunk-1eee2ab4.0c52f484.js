(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eee2ab4"],{5774:function(t,a,s){a=t.exports=s("2350")(!1),a.push([t.i,"",""])},"6d99":function(t,a,s){"use strict";s.r(a);var e=s("5d73"),n=s.n(e),o=s("cebc"),r=(s("7f7f"),s("ca00")),c=function(t){var a=t.name,s=t.path,e=void 0===s?null:s,n=d,c=v();if(!Object(r["e"])(c.msg)){var i=c.sqliteDB,l={name:a,path:e},u=i.openDatabaseSync(l);return Object(o["a"])({},n,u)}n.status=!1,n.msg=c.msg},i=function(t){var a=d,s=v();if(!Object(r["e"])(s.msg)){var e=s.sqliteDB,n={name:t},c=e.closeDatabaseSync(n);return Object(o["a"])({},a,c)}a.status=!1,a.msg=s.msg},l=function(t){var a=t.name,s=t.operation,e=d,n=v();if(!Object(r["e"])(n.msg)){var c=n.sqliteDB,i={name:a,operation:s},l=c.transactionSync(i);return Object(o["a"])({},e,l)}e.status=!1,e.msg=n.msg},u=function(t){var a=t.name,s=t.sql,e=d,n=v();if(!Object(r["e"])(n.msg)){var c=n.sqliteDB,i={name:a,sql:s},l=c.executeSqlSync(i);return Object(o["a"])({},e,l)}e.status=!1,e.msg=n.msg},m=function(t){var a=t.name,s=t.sql,e=d,n=v();if(!Object(r["e"])(n.msg)){var c=n.sqliteDB,i={name:a,sql:s},l=c.selectSqlSync(i);return Object(o["a"])({},e,l)}e.status=!1,e.msg=n.msg},v=function(){var t=null,a="";if(Object(r["c"])())try{if(t=window.api.require("db"),Object(r["d"])(t))throw new Error("请首先加载db模块")}catch(s){a="请首先加载db模块"}else a="请在App环境下使用该功能";return{sqliteDB:t,msg:a}},d={status:!0,data:[],code:"",msg:""},f={name:"SqliteDemo",data:function(){return{}},methods:{handleOpenDatabase:function(){var t=c({name:"test"});console.log("openDatabase",t),t.status?this.$toast.success("打开数据库成功"):this.$toast.fail("打开数据库失败，原因："+t.msg)},handleCloseDatabase:function(){var t=i("test");console.log("closeDatabase",t),t.status?this.$toast.success("关闭数据库成功"):this.$toast.fail("关闭数据库失败，原因："+t.msg)},handleCreateTable:function(){var t="CREATE TABLE Persons(p_Name varchar(100),p_Address varchar(200),p_City varchar(30))",a=u({name:"test",sql:t});a.status?this.$toast.success("创建表Persons成功"):this.$toast.fail("创建表Persons，原因："+a.msg)},handleAddTestData:function(){var t="insert into Persons(p_Name,p_Address,p_City) values('小明','aaaa','德阳');",a=u({name:"test",sql:t});a.status?this.$toast.success("写入测试数据成功"):this.$toast.fail("写入测试数据失败，原因："+a.msg)},handleSelectData:function(){var t="select p_Name,p_Address,p_City from Persons",a=m({name:"test",sql:t});if(a.status){console.log("selectSql",a.data);var s="",e=!0,o=!1,r=void 0;try{for(var c,i=n()(a.data);!(e=(c=i.next()).done);e=!0){var l=c.value;s+=l.p_Name+","}}catch(u){o=!0,r=u}finally{try{e||null==i.return||i.return()}finally{if(o)throw r}}this.$toast.success("查询测试数据成功，获取的人名有："+s)}else this.$toast.fail("查询测试数据失败，原因："+a.msg)},handleTransaction:function(){var t=l({name:"test",operation:"begin"}),a="";if(t.status)try{if(a="insert into Persons(p_Name,p_Address,p_City) values('小白','cccc','成都');",t=u({name:"test",sql:a}),!t.status)throw new Error(t.msg);if(a="insert into Persons(p_Name,p_Address,p_City) values('小天','bbb','成都');",t=u({name:"test",sql:a}),!t.status)throw new Error(t.msg);if(t=l({name:"test",operation:"commit"}),!t.status)throw new Error(t.msg);this.$toast.success("事务操作成功")}catch(s){l({name:"test",operation:"rollback"}),this.$toast.fail("事务操作成功，原因："+s)}}}},b=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("van-button",{on:{click:t.handleOpenDatabase}},[t._v("打开数据库")]),t._v(" "),s("van-button",{on:{click:t.handleCloseDatabase}},[t._v("关闭数据库")]),t._v(" "),s("van-button",{on:{click:t.handleCreateTable}},[t._v("创建Persons表")]),t._v(" "),s("van-button",{on:{click:t.handleAddTestData}},[t._v("写入测试数据")]),t._v(" "),s("van-button",{on:{click:t.handleSelectData}},[t._v("查询数据")]),t._v(" "),s("van-button",{on:{click:t.handleTransaction}},[t._v("事务写入数据")])],1)},h=[],p=s("2455");function g(t){s("e96c")}var _=!1,q=g,D="data-v-0646c206",w=null,y=Object(p["a"])(f,b,h,_,q,D,w);a["default"]=y.exports},e96c:function(t,a,s){var e=s("5774");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=s("499e").default;n("1c6ae6b8",e,!0,{})}}]);